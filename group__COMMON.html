<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>917 ZG23 WiFi ZWave Bridge: Z-Wave Common API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">917 ZG23 WiFi ZWave Bridge
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Z-Wave Common API </div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9081653fb9c3d6a6de1dd224ec526ac2" id="r_ga9081653fb9c3d6a6de1dd224ec526ac2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9081653fb9c3d6a6de1dd224ec526ac2">ApplicationInitHW</a> (<a class="el" href="ZW__basis__api_8h.html#ad10be11865300ca019e576ae7bdc26a9">SW_WAKEUP</a> bWakeupReason)</td></tr>
<tr class="memitem:ga5ca6b46c1ad2eb4515ebf85781b91ab4" id="r_ga5ca6b46c1ad2eb4515ebf85781b91ab4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5ca6b46c1ad2eb4515ebf85781b91ab4">ApplicationInitSW</a> (void)</td></tr>
<tr class="memitem:ga77ecd524e0f882601b02d2ec2da47667" id="r_ga77ecd524e0f882601b02d2ec2da47667"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga77ecd524e0f882601b02d2ec2da47667">ApplicationPoll</a> (void)</td></tr>
<tr class="memitem:gaffd464c1bb99272f362d51ca808fadb1" id="r_gaffd464c1bb99272f362d51ca808fadb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaffd464c1bb99272f362d51ca808fadb1">ApplicationTestPoll</a> (void)</td></tr>
<tr class="memitem:gaaf3f4d83d30314d9827b665ce186c803" id="r_gaaf3f4d83d30314d9827b665ce186c803"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaf3f4d83d30314d9827b665ce186c803">ApplicationRfNotify</a> (<a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> rfState)</td></tr>
<tr class="memitem:ga77d6e160c59a81b81f9c1fe2ecde1d61" id="r_ga77d6e160c59a81b81f9c1fe2ecde1d61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga77d6e160c59a81b81f9c1fe2ecde1d61">ApplicationNodeInformation</a> (<a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *deviceOptionsMask, <a class="el" href="ZW__basis__api_8h.html#a7497794f4853a0605a1af87e82797fcb">APPL_NODE_TYPE</a> *nodeType, <a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> **nodeParm, <a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *parmLength)</td></tr>
<tr class="memitem:gafd63fa779d3a15c577bc6a1b48857c91" id="r_gafd63fa779d3a15c577bc6a1b48857c91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafd63fa779d3a15c577bc6a1b48857c91">ZW_GetRoutingInfo</a> (<a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> bNodeID, <a class="el" href="ZW__typedefs_8h.html#a585fca405a72fa7c3877f2f3dc7cccd1">BYTE_P</a> pMask, <a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> bOptions)</td></tr>
<tr class="memitem:gaa31e2ef300b160aab81727ad50a1090a" id="r_gaa31e2ef300b160aab81727ad50a1090a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa31e2ef300b160aab81727ad50a1090a">ApplicationSlaveNodeInformation</a> (<a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> destNode, <a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *listening, <a class="el" href="ZW__basis__api_8h.html#a7497794f4853a0605a1af87e82797fcb">APPL_NODE_TYPE</a> *nodeType, <a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> **nodeParm, <a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *parmLength)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>This section describes interface functions that are implemented within all Z Wave nodes. The first subsection defines functions that must be implemented within the application modules, while the second subsection defines the functions that are implemented within the Z Wave basis library. Functions that do not complete the requested action before returning to the application (e.g. ZW_SEND_DATA) have a callback function pointer as one of the entry parameters. Unless explicitly specified this function pointer can be set to NULL (no action to take on completion). </p>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga9081653fb9c3d6a6de1dd224ec526ac2" name="ga9081653fb9c3d6a6de1dd224ec526ac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9081653fb9c3d6a6de1dd224ec526ac2">&#9670;&#160;</a></span>ApplicationInitHW()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> ApplicationInitHW </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ZW__basis__api_8h.html#ad10be11865300ca019e576ae7bdc26a9">SW_WAKEUP</a></td>          <td class="paramname"><span class="paramname"><em>bWakeupReason</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="#ga9081653fb9c3d6a6de1dd224ec526ac2">ApplicationInitHW</a> is used to initialize hardware used by the application. The Z Wave hardware initialization function set all application IO pins to input mode. The <a class="el" href="#ga9081653fb9c3d6a6de1dd224ec526ac2">ApplicationInitHW</a> function MUST be called by the Z Wave main function during system startup. At this point of time the Z Wave timer system is not started so waiting on hardware to get ready SHOULD be done by MCU busy loops.</p>
<p>Declared in: <a class="el" href="ZW__basis__api_8h.html" title="Z-Wave common controller/slave application interface.">ZW_basis_api.h</a></p>
<dl class="section return"><dt>Returns</dt><dd>TRUE Application hardware initialized </dd>
<dd>
FALSE Application hardware initialization failed. Protocol enters test mode and Calls ApplicationTestPoll </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bWakeupReason</td><td><ul>
<li><a class="el" href="ZW__basis__api_8h.html#ac49b312ed427de515fb6163ee35af14c">ZW_WAKEUP_RESET</a> Woken up by reset or external interrupt</li>
<li><a class="el" href="ZW__basis__api_8h.html#af4137a65a7546773ec497300474502ad">ZW_WAKEUP_WUT</a> Woken up by the WUT timer</li>
<li><a class="el" href="ZW__basis__api_8h.html#ab9ab7815a181e0ea73ed8f571df9fa8a">ZW_WAKEUP_SENSOR</a> Woken up by a wakeup beam</li>
<li><a class="el" href="ZW__basis__api_8h.html#adb669b8e54470ea5e7ea6e8927e02a9d">ZW_WAKEUP_WATCHDOG</a> Reset because of a watchdog timeout</li>
<li><a class="el" href="ZW__basis__api_8h.html#acc4e845fbbe936f0424fe2e3e699a70e">ZW_WAKEUP_EXT_INT</a> Woken up by external interrupt</li>
<li><a class="el" href="ZW__basis__api_8h.html#a67afb6489bb986ecf9177fd7b5432ab1">ZW_WAKEUP_POR</a> Reset by Power on reset circuit</li>
<li><a class="el" href="ZW__basis__api_8h.html#aee8daef05fede05d15bc0b194de711ad">ZW_WAKEUP_USB_SUSPEND</a> Woken up by USB suspend</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>Serial API (Not supported) </p>

</div>
</div>
<a id="ga5ca6b46c1ad2eb4515ebf85781b91ab4" name="ga5ca6b46c1ad2eb4515ebf85781b91ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ca6b46c1ad2eb4515ebf85781b91ab4">&#9670;&#160;</a></span>ApplicationInitSW()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> ApplicationInitSW </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="#ga5ca6b46c1ad2eb4515ebf85781b91ab4">ApplicationInitSW</a> is used to initialize memory used by the application and driver software.</p>
<p><a class="el" href="#ga5ca6b46c1ad2eb4515ebf85781b91ab4">ApplicationInitSW</a> MUST be called from the Z Wave main function during system startup. Notice that watchdog is enabled by default and MUST be kicked by the application to avoid resetting the system (See <a class="el" href="ZW__basis__api_8h.html#ab62fd65c0201770aa505400ca47f2ca4">ZW_WatchDogKick</a>).</p>
<p>Declared in: <a class="el" href="ZW__basis__api_8h.html" title="Z-Wave common controller/slave application interface.">ZW_basis_api.h</a></p>
<dl class="section return"><dt>Returns</dt><dd>TRUE Application software initialized </dd>
<dd>
FALSE Application software initialization failed. (No Z Wave basis action implemented yet)</dd></dl>
<p>Serial API (Not supported) </p>

</div>
</div>
<a id="ga77d6e160c59a81b81f9c1fe2ecde1d61" name="ga77d6e160c59a81b81f9c1fe2ecde1d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77d6e160c59a81b81f9c1fe2ecde1d61">&#9670;&#160;</a></span>ApplicationNodeInformation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ApplicationNodeInformation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *</td>          <td class="paramname"><span class="paramname"><em>deviceOptionsMask</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ZW__basis__api_8h.html#a7497794f4853a0605a1af87e82797fcb">APPL_NODE_TYPE</a> *</td>          <td class="paramname"><span class="paramname"><em>nodeType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> **</td>          <td class="paramname"><span class="paramname"><em>nodeParm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *</td>          <td class="paramname"><span class="paramname"><em>parmLength</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The Z-Wave Application Layer MUST use the <a class="el" href="#ga77d6e160c59a81b81f9c1fe2ecde1d61">ApplicationNodeInformation</a> function to generate the Node Information frame and to save information about node capabilities. All Z Wave application related fields of the Node Information structure MUST be initialized by this function. For a description of the Generic Device Classes, Specific Device Classes, and Command Classes refer to [4], [5] and [9]. The deviceOptionsMask is a Bit mask where Listening and Optional functionality flags MUST be set or cleared accordingly to the nodes capabilities.</p>
<p>The listening option in the deviceOptionsMask (APPLICATION_NODEINFO_LISTENING) indicates a continuously powered node ready to receive frames. A listening node assists as repeater in the network.</p>
<p>The non-listening option in the deviceOptionsMask (APPLICATION_NODEINFO_NOT_LISTENING) indicates a battery-operated node that power off RF reception when idle (prolongs battery lifetime)..</p>
<p>The optional functionality option in the deviceOptionsMask (APPLICATION_NODEINFO_OPTIONAL_FUNCTIONALITY) indicates that this node supports other command classes than the mandatory classes for the selected generic and specific device class.</p>
<p>To set a device as Listening with Optional Functionality: </p><div class="fragment"><div class="line">deviceOptionsMask = <a class="code hl_define" href="ZW__basis__api_8h.html#a1c52f25c73659d347638320a08003ff9">APPLICATION_NODEINFO_LISTENING</a> |</div>
<div class="line">                  <a class="code hl_define" href="ZW__basis__api_8h.html#ab582299a461ca3f5bbf4cc651d1f54d3">APPLICATION_NODEINFO_OPTIONAL_FUNCTIONALITY</a>;</div>
<div class="ttc" id="aZW__basis__api_8h_html_a1c52f25c73659d347638320a08003ff9"><div class="ttname"><a href="ZW__basis__api_8h.html#a1c52f25c73659d347638320a08003ff9">APPLICATION_NODEINFO_LISTENING</a></div><div class="ttdeci">#define APPLICATION_NODEINFO_LISTENING</div><div class="ttdef"><b>Definition</b> ZW_basis_api.h:782</div></div>
<div class="ttc" id="aZW__basis__api_8h_html_ab582299a461ca3f5bbf4cc651d1f54d3"><div class="ttname"><a href="ZW__basis__api_8h.html#ab582299a461ca3f5bbf4cc651d1f54d3">APPLICATION_NODEINFO_OPTIONAL_FUNCTIONALITY</a></div><div class="ttdeci">#define APPLICATION_NODEINFO_OPTIONAL_FUNCTIONALITY</div><div class="ttdef"><b>Definition</b> ZW_basis_api.h:783</div></div>
</div><!-- fragment --><p>To set a device as not listening and with no Optional functionality support: </p><div class="fragment"><div class="line">deviceOptionsMask =  <a class="code hl_define" href="ZW__basis__api_8h.html#ae6e1abd669d2130b765349406e94044d">APPLICATION_NODEINFO_NOT_LISTENING</a>;</div>
<div class="ttc" id="aZW__basis__api_8h_html_ae6e1abd669d2130b765349406e94044d"><div class="ttname"><a href="ZW__basis__api_8h.html#ae6e1abd669d2130b765349406e94044d">APPLICATION_NODEINFO_NOT_LISTENING</a></div><div class="ttdeci">#define APPLICATION_NODEINFO_NOT_LISTENING</div><div class="ttdef"><b>Definition</b> ZW_basis_api.h:781</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>for Controllers: Because controller libraries store some basic information about themselves from ApplicationNodeInformation in nonvolatile memory. ApplicationNodeInformation should be set to the correct values before Application return from <a class="el" href="#ga9081653fb9c3d6a6de1dd224ec526ac2">ApplicationInitHW()</a>, for applications where this cannot be done. The Application must call <a class="el" href="ZW__controller__api_8h.html#a4fa468fb178cf9ac099a4c519fd7211f">ZW_SET_DEFAULT()</a> after updating ApplicationNodeInformation in order to force the Z Wave library to store the correct values.</dd></dl>
<p>A way to verify if ApplicationNodeInformation is stored by the protocol is to call <a class="el" href="group__ZWCMD.html#gaffe9532968c403ba1a5c2be08a352f6d">sl_zw_get_node_proto_info</a> to verify that Generic and specific nodetype are correct. If they differ from what is expected, the Application should Set the ApplicationNodeInformation to the correct values and call <a class="el" href="ZW__controller__api_8h.html#a4fa468fb178cf9ac099a4c519fd7211f">ZW_SET_DEFAULT()</a> to force the protocol to update its information.</p>
<p>Declared in: <a class="el" href="ZW__basis__api_8h.html" title="Z-Wave common controller/slave application interface.">ZW_basis_api.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">deviceOptionsMask</td><td>Bitmask with options<ul>
<li><a class="el" href="ZW__basis__api_8h.html#a1c52f25c73659d347638320a08003ff9">APPLICATION_NODEINFO_LISTENING</a> In case this node is always listening (typically AC powered nodes) and stationary.</li>
<li><a class="el" href="ZW__basis__api_8h.html#ae6e1abd669d2130b765349406e94044d">APPLICATION_NODEINFO_NOT_LISTENING</a> In case this node is non-listening (typically battery powered nodes).</li>
<li><a class="el" href="ZW__basis__api_8h.html#ab582299a461ca3f5bbf4cc651d1f54d3">APPLICATION_NODEINFO_OPTIONAL_FUNCTIONALITY</a> If the node supports other command classes than the ones mandatory for this nodes Generic and Specific Device Class</li>
<li><a class="el" href="ZW__basis__api_8h.html#af1fb6adf23b3d39837edacde52258b01">APPLICATION_FREQ_LISTENING_MODE_250ms</a> This option bit should be set if the node should act as a Frequently Listening Routing Slave with a wakeup interval of 250ms. This option is only avalaibe on Routing Slaves. This option is not available on 3-channel systems (the JP frequency).</li>
<li><a class="el" href="ZW__basis__api_8h.html#a0559398daf836c7943e32b493f5d33df">APPLICATION_FREQ_LISTENING_MODE_1000ms</a> This option bit should be set if the node should act as a Frequently Listening Routing Slave with a wakeup interval of 1000ms. This option is only avalaibe on Routing Slaves. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nodeType</td><td>Pointer to structure with the Device Class:<ul>
<li>(*nodeType).generic The Generic Device Class [5]. Do not enter zero in this field.</li>
<li>(*nodeType).specific The Specific Device Class [5]. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nodeParm</td><td>Command Class buffer pointer. Command Classes [9] supported by the device itself and optional Command Classes the device can control in other devices. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">parmLength</td><td>Number of Command Class bytes.</td></tr>
  </table>
  </dd>
</dl>
<p>\serialapi{HOST-&gt;ZW: REQ | 0x03 | deviceOptionsMask | generic | specific | parmLength | nodeParm[ ]}</p>
<p>The <a class="el" href="#ga77d6e160c59a81b81f9c1fe2ecde1d61">ApplicationNodeInformation</a> is replaced by <a class="el" href="group__ZWCMD.html#ga4d27631c72b0de2f61ece0aa7b38b8cb">SerialAPI_ApplicationNodeInformation</a>. Used to set information that will be used in subsequent calls to <a class="el" href="group__BASIS.html#gab79d35a5e6d3f59fe05c115a74a55e64">ZW_SendNodeInformation</a>. Replaces the functionality provided by the <a class="el" href="#ga77d6e160c59a81b81f9c1fe2ecde1d61">ApplicationNodeInformation()</a> callback function. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="group__ZWCMD.html#ga4d27631c72b0de2f61ece0aa7b38b8cb">SerialAPI_ApplicationNodeInformation</a>(<a class="code hl_typedef" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>  deviceOptionsMask,</div>
<div class="line"><a class="code hl_typedef" href="ZW__basis__api_8h.html#a7497794f4853a0605a1af87e82797fcb">APPL_NODE_TYPE</a> *nodeType,</div>
<div class="line"><a class="code hl_typedef" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>  *nodeParm,</div>
<div class="line"><a class="code hl_typedef" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>  parmLength)</div>
<div class="ttc" id="aZW__basis__api_8h_html_a7497794f4853a0605a1af87e82797fcb"><div class="ttname"><a href="ZW__basis__api_8h.html#a7497794f4853a0605a1af87e82797fcb">APPL_NODE_TYPE</a></div><div class="ttdeci">struct _APPL_NODE_TYPE_ APPL_NODE_TYPE</div></div>
<div class="ttc" id="aZW__typedefs_8h_html_a4ae1dab0fb4b072a66584546209e7d58"><div class="ttname"><a href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a></div><div class="ttdeci">uint8_t BYTE</div><div class="ttdef"><b>Definition</b> ZW_typedefs.h:54</div></div>
<div class="ttc" id="agroup__ZWCMD_html_ga4d27631c72b0de2f61ece0aa7b38b8cb"><div class="ttname"><a href="group__ZWCMD.html#ga4d27631c72b0de2f61ece0aa7b38b8cb">SerialAPI_ApplicationNodeInformation</a></div><div class="ttdeci">void SerialAPI_ApplicationNodeInformation(BYTE listening, APPL_NODE_TYPE nodeType, BYTE *nodeParm, BYTE parmLength)</div><div class="ttdef"><b>Definition</b> Serialapi.c:2682</div></div>
</div><!-- fragment --><p>Information is stored in NVM application area. The define APPL_NODEPARM_MAX in serialappl.h must be modified accordingly to the number of command classes to be notified.</p>
<p>The figure below lists the Node Information Frame structure on application level. The Z Wave Protocol creates this frame via ApplicationNodeInformation. The Node Information Frame structure when transmitted by RF does not include the Basic byte descriptor field. The Basic byte descriptor field on application level is deducted from the Capability and Security byte descriptor fields.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Byte descriptor \ bit number  </th><th class="markdownTableHeadNone">7  </th><th class="markdownTableHeadNone">6  </th><th class="markdownTableHeadNone">5  </th><th class="markdownTableHeadNone">4  </th><th class="markdownTableHeadNone">3  </th><th class="markdownTableHeadNone">2  </th><th class="markdownTableHeadNone">1  </th><th class="markdownTableHeadNone">0  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Capability  </td><td class="markdownTableBodyNone" colspan="7">Liste-ning  </td><td class="markdownTableBodyNone">Z Wave Protocol Specific Part  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Security  </td><td class="markdownTableBodyNone" colspan="7">Opt. Func.  </td><td class="markdownTableBodyNone">Z Wave Protocol Specific Part  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone" colspan="8">Reserved  </td><td class="markdownTableBodyNone">Z Wave Protocol Specific Part  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone" colspan="8">Basic  </td><td class="markdownTableBodyNone">Basic Device Class (Z Wave Protocol Specific Part)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone" colspan="8">Generic  </td><td class="markdownTableBodyNone">Generic Device Class  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone" colspan="8">Specific  </td><td class="markdownTableBodyNone">Specific Device Class  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone" colspan="8">NodeInfo[0]  </td><td class="markdownTableBodyNone">Command Class 1  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone" colspan="8">NodeInfo[n-1]  </td><td class="markdownTableBodyNone">Command Class n  </td></tr>
</table>
<p>Figure 8. Node Information frame structure on application level </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo</a></b></dt><dd>doxygen colspan in table rows below header.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Must use deviceOptionsMask parameter and associated defines to initialize Node Information Frame with respect to listening, non-listening and optional functionality options. </dd></dl>

</div>
</div>
<a id="ga77ecd524e0f882601b02d2ec2da47667" name="ga77ecd524e0f882601b02d2ec2da47667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77ecd524e0f882601b02d2ec2da47667">&#9670;&#160;</a></span>ApplicationPoll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ApplicationPoll </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The <a class="el" href="#ga77ecd524e0f882601b02d2ec2da47667">ApplicationPoll</a> function is the entry point from the Z Wave basis software to the application software modules. The <a class="el" href="#ga77ecd524e0f882601b02d2ec2da47667">ApplicationPoll</a> function is called from the Z Wave main loop when no low-level time critical actions are active. In order not to disrupt the radio communication and the protocol, the application code MUST return within 2ms measured from the call of <a class="el" href="#ga77ecd524e0f882601b02d2ec2da47667">ApplicationPoll</a>.</p>
<p>To determine the <a class="el" href="#ga77ecd524e0f882601b02d2ec2da47667">ApplicationPoll</a> frequency (see table below) a LED Dimmer application is modified to be able to measure how often <a class="el" href="#ga77ecd524e0f882601b02d2ec2da47667">ApplicationPoll</a> is called via an output pin. The minimum value is measured when the module is idle, i.e. no RF communication, no push button activation etc. The maximum value is measured when the ERTT application at the same time sends Basic Set Commands (value equal 0) as fast as possible to the LED Dimmer (DUT).</p>
<p>ApplicationPoll frequency: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone">ZW0201 LED Dimmer  </th><th class="markdownTableHeadNone">ZW0301 LED Dimmer  </th><th class="markdownTableHeadNone">400 Series LED Dimmer  </th><th class="markdownTableHeadNone">500 Series LED Dimmer  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Minimum  </td><td class="markdownTableBodyNone">7.2 us  </td><td class="markdownTableBodyNone">7.2 us  </td><td class="markdownTableBodyNone">80 us  </td><td class="markdownTableBodyNone">TBD  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Maximum  </td><td class="markdownTableBodyNone">2.4 ms  </td><td class="markdownTableBodyNone">2.4 ms  </td><td class="markdownTableBodyNone">180 us  </td><td class="markdownTableBodyNone">TBD  </td></tr>
</table>
<p>The abovementioned output pin mapped to the ApplicationPoll SHOULD also be used during application testing to ensure that the application code never runs for more than 2msec even in worst-case scenarios; setting the pin high when entering and low when leaving the ApplicationPoll function.</p>
<p>Declared in: <a class="el" href="ZW__basis__api_8h.html" title="Z-Wave common controller/slave application interface.">ZW_basis_api.h</a></p>
<p>Serial API (Not supported) </p>

</div>
</div>
<a id="gaaf3f4d83d30314d9827b665ce186c803" name="gaaf3f4d83d30314d9827b665ce186c803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf3f4d83d30314d9827b665ce186c803">&#9670;&#160;</a></span>ApplicationRfNotify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ApplicationRfNotify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a></td>          <td class="paramname"><span class="paramname"><em>rfState</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function is used to inform the application about the current state of the radio enabling control of an external power amplifier (PA). The Z Wave protocol will call the <a class="el" href="#gaaf3f4d83d30314d9827b665ce186c803">ApplicationRfNotify</a> function when the radio changes state as follows:</p><ul>
<li>From Tx to Rx</li>
<li>From Rx to Tx</li>
<li>From powered down to Rx</li>
<li>From powered down to Tx</li>
<li>When PA is powered up</li>
<li>When PA is powered down</li>
</ul>
<p>This enables the application to control an external PA using the appropriate number of I/O pins. For details, refer to [35].</p>
<p>A device incorporating an external PA, MUST set the parameter FLASH_APPL_PLL_STEPUP_OFFS in App_RFSetup.a51 to 0 (zero) for adjustment of the signal quality. This is necessary to be able to pass a FCC compliance test.</p>
<p>The <a class="el" href="#gaaf3f4d83d30314d9827b665ce186c803">ApplicationRfNotify</a> function MUST be defined in the application regardless not used for controlling an external PA.</p>
<p>Declared in: <a class="el" href="ZW__basis__api_8h.html" title="Z-Wave common controller/slave application interface.">ZW_basis_api.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rfState</td><td>The current state of the radio. Refer to ZW_transport_API.h header file<ul>
<li>ZW_RF_TX_MODE The radio is in Tx state. Previous state is either Rx or power down</li>
<li>ZW_RF_RX_MODE The radio in Rx or power down state. Previous state is ether Tx or power down</li>
<li>ZW_RF_PA_ON The radio in Tx moode and the PA is powered on</li>
<li>ZW_RF_PA_OFF The radio in Tx mode and the PA is powered off</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p><b>Serial</b> API:</p>
<p>Not implemented. </p>

</div>
</div>
<a id="gaa31e2ef300b160aab81727ad50a1090a" name="gaa31e2ef300b160aab81727ad50a1090a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa31e2ef300b160aab81727ad50a1090a">&#9670;&#160;</a></span>ApplicationSlaveNodeInformation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ApplicationSlaveNodeInformation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a></td>          <td class="paramname"><span class="paramname"><em>destNode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *</td>          <td class="paramname"><span class="paramname"><em>listening</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ZW__basis__api_8h.html#a7497794f4853a0605a1af87e82797fcb">APPL_NODE_TYPE</a> *</td>          <td class="paramname"><span class="paramname"><em>nodeType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> **</td>          <td class="paramname"><span class="paramname"><em>nodeParm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *</td>          <td class="paramname"><span class="paramname"><em>parmLength</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Request Application Virtual Slave Node information. The Z Wave protocol layer calls ApplicationSlaveNodeInformation just before transmitting a "Node Information" frame.</p>
<p>The Z Wave Bridge Controller library requires this function implemented within the Application layer.</p>
<p>Declared in: <a class="el" href="ZW__controller__bridge__api_8h.html">ZW_controller_bridge_api.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">destNode</td><td>Which Virtual Node do we want the node information from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">listening</td><td>TRUE if this node is always listening and not moving. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nodeType</td><td>Pointer to structure with the Device Class:<ul>
<li>(*nodeType).generic The Generic Device Class [5]. Do not enter zero in this field.</li>
<li>(*nodeType).specific The Specific Device Class [5]. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nodeParm</td><td>Command Class buffer pointer. Command Classes [9] supported by the device itself and optional Command Classes the device can control in other devices. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">parmLength</td><td>Number of Command Class bytes.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Serial</b> API</p>
<p>The ApplicationSlaveNodeInformation is replaced by SerialAPI_ApplicationSlaveNodeInformation. Used to set node information for the Virtual Slave Node in the embedded module this node information will then be used in subsequent calls to ZW_SendSlaveNodeInformation. Replaces the functionality provided by the <a class="el" href="#gaa31e2ef300b160aab81727ad50a1090a">ApplicationSlaveNodeInformation()</a> callback function. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="group__ZWCMD.html#gaf56b33e4903ce23a2d6773b81193ca66">SerialAPI_ApplicationSlaveNodeInformation</a>(<a class="code hl_typedef" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> destNode,</div>
<div class="line">    <a class="code hl_typedef" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>            listening,</div>
<div class="line">    <a class="code hl_typedef" href="ZW__basis__api_8h.html#a7497794f4853a0605a1af87e82797fcb">APPL_NODE_TYPE</a> *nodeType,</div>
<div class="line">    <a class="code hl_typedef" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>           *nodeParm,</div>
<div class="line">    <a class="code hl_typedef" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>            parmLength)</div>
<div class="ttc" id="agroup__ZWCMD_html_gaf56b33e4903ce23a2d6773b81193ca66"><div class="ttname"><a href="group__ZWCMD.html#gaf56b33e4903ce23a2d6773b81193ca66">SerialAPI_ApplicationSlaveNodeInformation</a></div><div class="ttdeci">void SerialAPI_ApplicationSlaveNodeInformation(uint8_t dstNode, BYTE listening, APPL_NODE_TYPE nodeType, const BYTE *nodeParm, BYTE parmLength)</div><div class="ttdef"><b>Definition</b> Serialapi.c:2791</div></div>
</div><!-- fragment --><p> \serialapi{ HOST-&gt;ZW:REQ | 0xA0 | destNode | listening | genericType | specificType | parmLength | nodeParm[ ]} </p>

</div>
</div>
<a id="gaffd464c1bb99272f362d51ca808fadb1" name="gaffd464c1bb99272f362d51ca808fadb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaffd464c1bb99272f362d51ca808fadb1">&#9670;&#160;</a></span>ApplicationTestPoll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ApplicationTestPoll </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The <a class="el" href="#gaffd464c1bb99272f362d51ca808fadb1">ApplicationTestPoll</a> function is the entry point from the Z Wave basis software to the application software when the production test mode is enabled in the protocol. This will happen when <a class="el" href="#ga9081653fb9c3d6a6de1dd224ec526ac2">ApplicationInitHW</a> returns FALSE. The <a class="el" href="#gaffd464c1bb99272f362d51ca808fadb1">ApplicationTestPoll</a> function will be called indefinitely until the device is reset. The device must be reset and <a class="el" href="#ga9081653fb9c3d6a6de1dd224ec526ac2">ApplicationInitHW</a> must return TRUE in order to exit this mode. When <a class="el" href="#gaffd464c1bb99272f362d51ca808fadb1">ApplicationTestPoll</a> is called the protocol will acknowledge frames sent to home ID equal to 0x00000000 and node ID as follows:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Device  </th><th class="markdownTableHeadNone">Node ID  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Slave  </td><td class="markdownTableBodyNone">0x00  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Controllers before Dev. Kit v3.40  </td><td class="markdownTableBodyNone">0xEF  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Controllers from Dev. Kit v3.40 or later  </td><td class="markdownTableBodyNone">0x01  </td></tr>
</table>
<p>The following API calls are only available in production test mode:</p><ul>
<li>ZW_EepromInit is used to initialize the external NVM. Remember to initialize controllers with a unique home ID that typically can be transferred via the UART on the production line.</li>
<li><a class="el" href="ZW__transport__api_8h.html#a9505b6fc7d6d068e3f41d712254d5153">ZW_SendConst</a> is used to validate RF communication. Remember to enable RF communication when testing products based on a portable controller, routing slave or enhanced 232 slave.</li>
</ul>
<p>Declared in: <a class="el" href="ZW__basis__api_8h.html" title="Z-Wave common controller/slave application interface.">ZW_basis_api.h</a></p>
<p>Serial API (Not supported) </p>

</div>
</div>
<a id="gafd63fa779d3a15c577bc6a1b48857c91" name="gafd63fa779d3a15c577bc6a1b48857c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafd63fa779d3a15c577bc6a1b48857c91">&#9670;&#160;</a></span>ZW_GetRoutingInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ZW_GetRoutingInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a></td>          <td class="paramname"><span class="paramname"><em>bNodeID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ZW__typedefs_8h.html#a585fca405a72fa7c3877f2f3dc7cccd1">BYTE_P</a></td>          <td class="paramname"><span class="paramname"><em>pMask</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ZW__typedefs_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a></td>          <td class="paramname"><span class="paramname"><em>bOptions</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A controller application MAY use the information provided by <a class="el" href="ZW__controller__api__ex_8h.html#a36fdf208987b19c0285dc9d4d4a8f865">sl_appl_controller_update</a> to update local data structures.</p>
<p>The Z Wave protocol MUST notify a controller application by calling <a class="el" href="ZW__controller__api__ex_8h.html#a36fdf208987b19c0285dc9d4d4a8f865">sl_appl_controller_update</a> when a new node has been added or deleted from the controller through the network management features.</p>
<p>The Z Wave protocol MUST call <a class="el" href="ZW__controller__api__ex_8h.html#a36fdf208987b19c0285dc9d4d4a8f865">sl_appl_controller_update</a> in response to <a class="el" href="Serialapi_8c.html#a375f0d41773be356d806c15d4dcd70c3">ZW_RequestNodeInfo</a> being called by the controller application. The Z Wave protocol MAY notify a controller application by calling <a class="el" href="ZW__controller__api__ex_8h.html#a36fdf208987b19c0285dc9d4d4a8f865">sl_appl_controller_update</a> when a Node Information Frame has been received. The Z Wave protocol MAY refrain from calling the function if the protocol is currently expecting a Node Information frame.</p>
<p><a class="el" href="ZW__controller__api__ex_8h.html#a36fdf208987b19c0285dc9d4d4a8f865">sl_appl_controller_update</a> MUST be called in a controller node operating as SIS each time a node is added or deleted by the primary controller. <a class="el" href="ZW__controller__api__ex_8h.html#a36fdf208987b19c0285dc9d4d4a8f865">sl_appl_controller_update</a> MUST be called in a controller node operating as SIS each time a node is added/deleted by an inclusion controller.</p>
<p>The Z Wave protocol MAY notify a controller application by calling <a class="el" href="ZW__controller__api__ex_8h.html#a36fdf208987b19c0285dc9d4d4a8f865">sl_appl_controller_update</a> when a Node Information Frame has been received. The Z Wave protocol MAY refrain from calling the function if the protocol is currently expecting node information.</p>
<p>A controller application MAY send a <a class="el" href="group__BASIS.html#ga7a6d32ff47739f7313ddf2c1789a1fdf">ZW_RequestNetWorkUpdate</a> command to a SIS or SIS node. In response, the SIS MUST return update information for each node change since the last update handled by the requesting controller node. The application of the requesting controller node MAY receive multiple calls to <a class="el" href="ZW__controller__api__ex_8h.html#a36fdf208987b19c0285dc9d4d4a8f865">sl_appl_controller_update</a> in response to <a class="el" href="group__BASIS.html#ga7a6d32ff47739f7313ddf2c1789a1fdf">ZW_RequestNetWorkUpdate</a>.</p>
<p>The Z Wave protocol MUST NOT call <a class="el" href="ZW__controller__api__ex_8h.html#a36fdf208987b19c0285dc9d4d4a8f865">sl_appl_controller_update</a> in a controller node acting as primary controller or inclusion controller when a node is added or deleted.</p>
<p>Any controller application MUST implement this function.</p>
<p>Declared in: <a class="el" href="ZW__controller__api_8h.html">ZW_controller_api.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bStatus</td><td>The status of the update process, value could be one of the following:<ul>
<li>UPDATE_STATE_ADD_DONE A new node has been added to the network.</li>
<li><a class="el" href="ZW__controller__api_8h.html#ac6269fe80c348e6f89e65eadf8dd813e">UPDATE_STATE_DELETE_DONE</a> A node has been deleted from the network.</li>
<li><a class="el" href="ZW__controller__api_8h.html#a8c02879a40c1c8b1ab2e83de6d557096">UPDATE_STATE_NODE_INFO_RECEIVED</a> A node has sent its node info either unsolicited or as a response to a ZW_RequestNodeInfo call.</li>
<li><a class="el" href="ZW__controller__api_8h.html#aaa628c30975ba5c23171b1320e166b23">UPDATE_STATE_SUC_ID</a> The SIS node Id was updated. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bNodeID</td><td>The updated node's node ID (1..232). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pCmd</td><td>Pointer of the updated node's node info. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bLen</td><td>The length of the pCmd parameter.</td></tr>
  </table>
  </dd>
</dl>
<p>\serialapi{ZW-&gt;HOST: REQ | 0x49 | bStatus | bNodeID | bLen | basic | generic | specific | commandclasses[ ]}</p>
<p>sl_appl_controller_update via the Serial API also have the possibility for receiving the status UPDATE_STATE_NODE_INFO_REQ_FAILED, which means that a node did not acknowledge a <a class="el" href="Serialapi_8c.html#a375f0d41773be356d806c15d4dcd70c3">ZW_RequestNodeInfo</a> call. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
