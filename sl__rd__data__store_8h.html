<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>917 ZG23 WiFi ZWave Bridge: projects/modules/sl_rd_data_store.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">917 ZG23 WiFi ZWave Bridge
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a href="dir_a9ec1ef424966475f993eb98877e3088.html">projects</a></li><li class="navelem"><a href="dir_2885e345bef61873561841b183b7fcd9.html">modules</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sl_rd_data_store.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Header file for <a class="el" href="sl__rd__data__store_8c.html" title="Store resource directory data in NVM3.">sl_rd_data_store.c</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;stdbool.h&quot;</code><br />
<code>#include &quot;<a class="el" href="memb_8h_source.html">lib/memb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sl__uip__def_8h_source.html">sl_uip_def.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="RD__internal_8h_source.html">apps/Z-Wave/CC/RD_internal.h</a>&quot;</code><br />
</div>
<p><a href="sl__rd__data__store_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:ip_5Fassociation_5Ft" id="r_ip_5Fassociation_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structip__association__t.html">ip_association_t</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae64283d891d8e278c327ebf42472e67a" id="r_ae64283d891d8e278c327ebf42472e67a"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="#a4e5c61f18000033b4143b1e2a6b5a2ae">IP_ASSOC_TYPE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae64283d891d8e278c327ebf42472e67a">ip_assoc_type_t</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4e5c61f18000033b4143b1e2a6b5a2ae" id="r_a4e5c61f18000033b4143b1e2a6b5a2ae"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e5c61f18000033b4143b1e2a6b5a2ae">IP_ASSOC_TYPE</a> { <a class="el" href="#a4e5c61f18000033b4143b1e2a6b5a2aea61b559977cd7bfbe4b9bb08ba65e9fcc">PERMANENT_IP_ASSOC</a> = 1
, <a class="el" href="#a4e5c61f18000033b4143b1e2a6b5a2aeacf96bf03096b71214fdade56a437747e">LOCAL_IP_ASSOC</a> = 2
, <a class="el" href="#a4e5c61f18000033b4143b1e2a6b5a2aeafc86406f3a00281de4aa50c0d49c1c75">PROXY_IP_ASSOC</a> = 3
 }</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af1348903e0e141e6b6200c4cb0d1bf12" id="r_af1348903e0e141e6b6200c4cb0d1bf12"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1348903e0e141e6b6200c4cb0d1bf12">data_store_init</a> (void)</td></tr>
<tr class="memdesc:af1348903e0e141e6b6200c4cb0d1bf12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the data store and load network information from NVM3.  <br /></td></tr>
<tr class="memitem:a29f130b370a629f8efeb20166f369daf" id="r_a29f130b370a629f8efeb20166f369daf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29f130b370a629f8efeb20166f369daf">data_store_exit</a> (void)</td></tr>
<tr class="memdesc:a29f130b370a629f8efeb20166f369daf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shut down the data store clean.  <br /></td></tr>
<tr class="memitem:acb739ec665848d270e48372125e62494" id="r_acb739ec665848d270e48372125e62494"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__node__db.html#ga0427986e6c269441480f3bbd25b5cff2">rd_node_database_entry_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb739ec665848d270e48372125e62494">rd_data_store_read</a> (<a class="el" href="sl__rd__types_8h.html#afe110a169ba24cefc8ad0db9a9cec0a3">nodeid_t</a> nodeID)</td></tr>
<tr class="memitem:ac29d08848ff095f487602ea7a64857ac" id="r_ac29d08848ff095f487602ea7a64857ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac29d08848ff095f487602ea7a64857ac">rd_data_store_nvm_write</a> (<a class="el" href="group__node__db.html#ga0427986e6c269441480f3bbd25b5cff2">rd_node_database_entry_t</a> *n)</td></tr>
<tr class="memdesc:ac29d08848ff095f487602ea7a64857ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a node database entry and its endpoints to NVM3.  <br /></td></tr>
<tr class="memitem:adc2257b146aff8d4cb3178c86fe2aafd" id="r_adc2257b146aff8d4cb3178c86fe2aafd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc2257b146aff8d4cb3178c86fe2aafd">rd_data_store_update</a> (<a class="el" href="group__node__db.html#ga0427986e6c269441480f3bbd25b5cff2">rd_node_database_entry_t</a> *n)</td></tr>
<tr class="memdesc:adc2257b146aff8d4cb3178c86fe2aafd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a node database entry in NVM3.  <br /></td></tr>
<tr class="memitem:a1942d4c7a6ed0fd97ade4d845454c9db" id="r_a1942d4c7a6ed0fd97ade4d845454c9db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1942d4c7a6ed0fd97ade4d845454c9db">rd_data_store_mem_free</a> (<a class="el" href="group__node__db.html#ga0427986e6c269441480f3bbd25b5cff2">rd_node_database_entry_t</a> *n)</td></tr>
<tr class="memitem:ad173d4406fa810dffde940fbd6f151af" id="r_ad173d4406fa810dffde940fbd6f151af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad173d4406fa810dffde940fbd6f151af">rd_data_store_nvm_free</a> (<a class="el" href="group__node__db.html#ga0427986e6c269441480f3bbd25b5cff2">rd_node_database_entry_t</a> *n)</td></tr>
<tr class="memdesc:ad173d4406fa810dffde940fbd6f151af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a node database entry and its endpoints from NVM3.  <br /></td></tr>
<tr class="memitem:a77055cdb65d1ad9c9dabbf9ebcea82de" id="r_a77055cdb65d1ad9c9dabbf9ebcea82de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77055cdb65d1ad9c9dabbf9ebcea82de">rd_store_mem_free_ep</a> (<a class="el" href="group__node__db.html#ga749220cdea16a85f64a344f5455c7504">rd_ep_database_entry_t</a> *ep)</td></tr>
<tr class="memitem:a071cad85fd37689bb37eb9bc54949e7e" id="r_a071cad85fd37689bb37eb9bc54949e7e"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a071cad85fd37689bb37eb9bc54949e7e">rd_data_mem_alloc</a> (uint8_t size)</td></tr>
<tr class="memitem:ac5a81a6ba4b1bc343175865e25bd23b5" id="r_ac5a81a6ba4b1bc343175865e25bd23b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5a81a6ba4b1bc343175865e25bd23b5">rd_data_mem_free</a> (void *p)</td></tr>
<tr class="memitem:a689da16c69985c7309e0fd45f193cb46" id="r_a689da16c69985c7309e0fd45f193cb46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a689da16c69985c7309e0fd45f193cb46">rd_data_store_invalidate</a> ()</td></tr>
<tr class="memitem:add9853369b5face2fec08d0c36132dbd" id="r_add9853369b5face2fec08d0c36132dbd"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add9853369b5face2fec08d0c36132dbd">rd_zgw_homeid_get</a> ()</td></tr>
<tr class="memitem:ad8f35624a754c3fff3652baa8cb9c73a" id="r_ad8f35624a754c3fff3652baa8cb9c73a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sl__rd__types_8h.html#afe110a169ba24cefc8ad0db9a9cec0a3">nodeid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8f35624a754c3fff3652baa8cb9c73a">rd_zgw_nodeid_get</a> ()</td></tr>
<tr class="memitem:a80eddcfbae13b16071b06f22874eeb9b" id="r_a80eddcfbae13b16071b06f22874eeb9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80eddcfbae13b16071b06f22874eeb9b">rd_datastore_persist_virtual_nodes</a> (const <a class="el" href="sl__rd__types_8h.html#afe110a169ba24cefc8ad0db9a9cec0a3">nodeid_t</a> *nodelist, size_t node_count)</td></tr>
<tr class="memitem:a52311a4d0a8e3422434ec5a6a2047eef" id="r_a52311a4d0a8e3422434ec5a6a2047eef"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52311a4d0a8e3422434ec5a6a2047eef">rd_datastore_unpersist_virtual_nodes</a> (<a class="el" href="sl__rd__types_8h.html#afe110a169ba24cefc8ad0db9a9cec0a3">nodeid_t</a> *nodelist, size_t max_node_count)</td></tr>
<tr class="memitem:a02f01c3b35ab667c7484ebe2863a7b8a" id="r_a02f01c3b35ab667c7484ebe2863a7b8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a02f01c3b35ab667c7484ebe2863a7b8a">rd_data_store_persist_associations</a> (<a class="el" href="group__list.html#ga9c248916bae1f0b13732686786be7108">list_t</a> ip_association_table)</td></tr>
<tr class="memitem:af2750ce9f29550d226ac0fbb2119b475" id="r_af2750ce9f29550d226ac0fbb2119b475"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af2750ce9f29550d226ac0fbb2119b475">rd_datastore_unpersist_association</a> (<a class="el" href="group__list.html#ga9c248916bae1f0b13732686786be7108">list_t</a> ip_association_table, struct <a class="el" href="structmemb.html">memb</a> *ip_association_pool)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for <a class="el" href="sl__rd__data__store_8c.html" title="Store resource directory data in NVM3.">sl_rd_data_store.c</a>. </p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md101"></a>
License</h1>
<p><b>Copyright 2025 Silicon Laboratories Inc. www.silabs.com</b></p>
<p>SPDX-License-Identifier: LicenseRef-MSLA</p>
<p>The licensor of this software is Silicon Laboratories Inc. Your use of this software is governed by the terms of the Silicon Labs Master Software License Agreement (MSLA) available at www.silabs.com/about-us/legal/master-software-license-agreement By installing, copying or otherwise using this software, you agree to the terms of the MSLA. </p>
</div><a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="ae64283d891d8e278c327ebf42472e67a" name="ae64283d891d8e278c327ebf42472e67a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae64283d891d8e278c327ebf42472e67a">&#9670;&#160;</a></span>ip_assoc_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="#a4e5c61f18000033b4143b1e2a6b5a2ae">IP_ASSOC_TYPE</a> <a class="el" href="#ae64283d891d8e278c327ebf42472e67a">ip_assoc_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IP association types. The enum values must not be changed since they are persisted to the EEPROM file. </p>

</div>
</div>
<a name="doc-enum-members" id="doc-enum-members"></a><h2 id="header-doc-enum-members" class="groupheader">Enumeration Type Documentation</h2>
<a id="a4e5c61f18000033b4143b1e2a6b5a2ae" name="a4e5c61f18000033b4143b1e2a6b5a2ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e5c61f18000033b4143b1e2a6b5a2ae">&#9670;&#160;</a></span>IP_ASSOC_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a4e5c61f18000033b4143b1e2a6b5a2ae">IP_ASSOC_TYPE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IP association types. The enum values must not be changed since they are persisted to the EEPROM file. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4e5c61f18000033b4143b1e2a6b5a2aea61b559977cd7bfbe4b9bb08ba65e9fcc" name="a4e5c61f18000033b4143b1e2a6b5a2aea61b559977cd7bfbe4b9bb08ba65e9fcc"></a>PERMANENT_IP_ASSOC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4e5c61f18000033b4143b1e2a6b5a2aeacf96bf03096b71214fdade56a437747e" name="a4e5c61f18000033b4143b1e2a6b5a2aeacf96bf03096b71214fdade56a437747e"></a>LOCAL_IP_ASSOC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4e5c61f18000033b4143b1e2a6b5a2aeafc86406f3a00281de4aa50c0d49c1c75" name="a4e5c61f18000033b4143b1e2a6b5a2aeafc86406f3a00281de4aa50c0d49c1c75"></a>PROXY_IP_ASSOC&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a29f130b370a629f8efeb20166f369daf" name="a29f130b370a629f8efeb20166f369daf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29f130b370a629f8efeb20166f369daf">&#9670;&#160;</a></span>data_store_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void data_store_exit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shut down the data store clean. </p>
<p>Shut down the data store clean.</p>
<p>Calls the NVM3 deinitialization routine to release resources. </p>

</div>
</div>
<a id="af1348903e0e141e6b6200c4cb0d1bf12" name="af1348903e0e141e6b6200c4cb0d1bf12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1348903e0e141e6b6200c4cb0d1bf12">&#9670;&#160;</a></span>data_store_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool data_store_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the data store and load network information from NVM3. </p>
<p>Read in the persistent data storage header.</p>
<p>If the stored data do not match the information on the serial API, or if it is not generated by a Z/IP Gateway, invalidate the storage area, so that it will be re-initialized.</p>
<p>If the stored data is recognized as one of the (supported) older formats a conversion to the current format is automatically performed.</p>
<dl class="section return"><dt>Returns</dt><dd>false if the datastore cannot be converted (because of unknown or unsupported format). </dd>
<dd>
true otherwise.</dd></dl>
<p>Initializes the NVM3 storage and checks for existing network information. If the stored network information does not match the current network, the database is cleared.</p>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

</div>
</div>
<a id="a071cad85fd37689bb37eb9bc54949e7e" name="a071cad85fd37689bb37eb9bc54949e7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a071cad85fd37689bb37eb9bc54949e7e">&#9670;&#160;</a></span>rd_data_mem_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * rd_data_mem_alloc </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate and deallocate memory from the rd_data_mem pool. </p>

</div>
</div>
<a id="ac5a81a6ba4b1bc343175865e25bd23b5" name="ac5a81a6ba4b1bc343175865e25bd23b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5a81a6ba4b1bc343175865e25bd23b5">&#9670;&#160;</a></span>rd_data_mem_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rd_data_mem_free </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>p</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a689da16c69985c7309e0fd45f193cb46" name="a689da16c69985c7309e0fd45f193cb46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a689da16c69985c7309e0fd45f193cb46">&#9670;&#160;</a></span>rd_data_store_invalidate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rd_data_store_invalidate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Corrupt the magic field of EEPROM to make sure EEPROM will be reformatted. </p>

</div>
</div>
<a id="a1942d4c7a6ed0fd97ade4d845454c9db" name="a1942d4c7a6ed0fd97ade4d845454c9db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1942d4c7a6ed0fd97ade4d845454c9db">&#9670;&#160;</a></span>rd_data_store_mem_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rd_data_store_mem_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__node__db.html#ga0427986e6c269441480f3bbd25b5cff2">rd_node_database_entry_t</a> *</td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free up all storage associated with a node and its endpoints from <a class="el" href="group__node__db.html">Resource Directory Node Database</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>Pointer to the node in <a class="el" href="group__node__db.html">Resource Directory Node Database</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad173d4406fa810dffde940fbd6f151af" name="ad173d4406fa810dffde940fbd6f151af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad173d4406fa810dffde940fbd6f151af">&#9670;&#160;</a></span>rd_data_store_nvm_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rd_data_store_nvm_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__node__db.html#ga0427986e6c269441480f3bbd25b5cff2">rd_node_database_entry_t</a> *</td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a node database entry and its endpoints from NVM3. </p>
<p>Free the endpoint data, the dynamic data, and the node pointer for a node in the rd_data_store.</p>
<p>Removes the node entry and all associated endpoint entries from NVM3.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>Pointer to the node database entry to delete. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac29d08848ff095f487602ea7a64857ac" name="ac29d08848ff095f487602ea7a64857ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac29d08848ff095f487602ea7a64857ac">&#9670;&#160;</a></span>rd_data_store_nvm_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rd_data_store_nvm_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__node__db.html#ga0427986e6c269441480f3bbd25b5cff2">rd_node_database_entry_t</a> *</td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a node database entry and its endpoints to NVM3. </p>
<p>Write a <a class="el" href="group__node__db.html#ga0427986e6c269441480f3bbd25b5cff2">rd_node_database_entry_t</a> and all its endpoints to storage. This is called when a new node is added. Note that this call would clean up the old entry together with its endpoints and create a new one.</p>
<p>Persists the given node database entry and all associated endpoint data to NVM3.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>Pointer to the node database entry to write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a02f01c3b35ab667c7484ebe2863a7b8a" name="a02f01c3b35ab667c7484ebe2863a7b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02f01c3b35ab667c7484ebe2863a7b8a">&#9670;&#160;</a></span>rd_data_store_persist_associations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rd_data_store_persist_associations </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__list.html#ga9c248916bae1f0b13732686786be7108">list_t</a></td>          <td class="paramname"><span class="paramname"><em>ip_association_table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acb739ec665848d270e48372125e62494" name="acb739ec665848d270e48372125e62494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb739ec665848d270e48372125e62494">&#9670;&#160;</a></span>rd_data_store_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__db.html#ga0427986e6c269441480f3bbd25b5cff2">rd_node_database_entry_t</a> * rd_data_store_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sl__rd__types_8h.html#afe110a169ba24cefc8ad0db9a9cec0a3">nodeid_t</a></td>          <td class="paramname"><span class="paramname"><em>nodeID</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read node entry from persistent storage. Return a newly allocated <a class="el" href="group__node__db.html#ga0427986e6c269441480f3bbd25b5cff2">rd_node_database_entry_t</a> on success. The returned entry must be freed with smfree </p>

</div>
</div>
<a id="adc2257b146aff8d4cb3178c86fe2aafd" name="adc2257b146aff8d4cb3178c86fe2aafd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc2257b146aff8d4cb3178c86fe2aafd">&#9670;&#160;</a></span>rd_data_store_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rd_data_store_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__node__db.html#ga0427986e6c269441480f3bbd25b5cff2">rd_node_database_entry_t</a> *</td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a node database entry in NVM3. </p>
<p>Update all node and endpoint info in persistent storage.</p>
<p>Call when a the status of a node or its endpoints has changed. This function assumes the number of endpoints to be matched with what entry n has.</p>
<p>(Currently not implemented; placeholder for future update logic.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>Pointer to the node database entry to update. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a80eddcfbae13b16071b06f22874eeb9b" name="a80eddcfbae13b16071b06f22874eeb9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80eddcfbae13b16071b06f22874eeb9b">&#9670;&#160;</a></span>rd_datastore_persist_virtual_nodes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rd_datastore_persist_virtual_nodes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="sl__rd__types_8h.html#afe110a169ba24cefc8ad0db9a9cec0a3">nodeid_t</a> *</td>          <td class="paramname"><span class="paramname"><em>nodelist</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>node_count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af2750ce9f29550d226ac0fbb2119b475" name="af2750ce9f29550d226ac0fbb2119b475"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2750ce9f29550d226ac0fbb2119b475">&#9670;&#160;</a></span>rd_datastore_unpersist_association()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rd_datastore_unpersist_association </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__list.html#ga9c248916bae1f0b13732686786be7108">list_t</a></td>          <td class="paramname"><span class="paramname"><em>ip_association_table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmemb.html">memb</a> *</td>          <td class="paramname"><span class="paramname"><em>ip_association_pool</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a52311a4d0a8e3422434ec5a6a2047eef" name="a52311a4d0a8e3422434ec5a6a2047eef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52311a4d0a8e3422434ec5a6a2047eef">&#9670;&#160;</a></span>rd_datastore_unpersist_virtual_nodes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t rd_datastore_unpersist_virtual_nodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sl__rd__types_8h.html#afe110a169ba24cefc8ad0db9a9cec0a3">nodeid_t</a> *</td>          <td class="paramname"><span class="paramname"><em>nodelist</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>max_node_count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a77055cdb65d1ad9c9dabbf9ebcea82de" name="a77055cdb65d1ad9c9dabbf9ebcea82de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77055cdb65d1ad9c9dabbf9ebcea82de">&#9670;&#160;</a></span>rd_store_mem_free_ep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rd_store_mem_free_ep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__node__db.html#ga749220cdea16a85f64a344f5455c7504">rd_ep_database_entry_t</a> *</td>          <td class="paramname"><span class="paramname"><em>ep</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free endpoint from memory. </p>

</div>
</div>
<a id="add9853369b5face2fec08d0c36132dbd" name="add9853369b5face2fec08d0c36132dbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add9853369b5face2fec08d0c36132dbd">&#9670;&#160;</a></span>rd_zgw_homeid_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rd_zgw_homeid_get </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get ZGW home ID from RD datastore. </p>

</div>
</div>
<a id="ad8f35624a754c3fff3652baa8cb9c73a" name="ad8f35624a754c3fff3652baa8cb9c73a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8f35624a754c3fff3652baa8cb9c73a">&#9670;&#160;</a></span>rd_zgw_nodeid_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sl__rd__types_8h.html#afe110a169ba24cefc8ad0db9a9cec0a3">nodeid_t</a> rd_zgw_nodeid_get </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get ZGW node ID RD datastore. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
